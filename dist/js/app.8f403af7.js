(function(t){function e(e){for(var a,o,i=e[0],c=e[1],l=e[2],d=0,h=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&h.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(h.length)h.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,i=1;i<s.length;i++){var c=s[i];0!==n[c]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},n={app:0},r=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"46ac":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("nav",{class:{active:t.showMenu},attrs:{id:"menubar"},on:{click:function(e){t.showMenu=!1}}},[t._m(0),s("ul",[s("li",[s("router-link",{attrs:{to:"/"}},[s("span",{staticClass:"icon"},[s("grid-icon")],1),s("span",{staticClass:"text"},[t._v("Dashboard")])])],1),s("li",[s("router-link",{attrs:{to:"/sensors"}},[s("span",{staticClass:"icon"},[s("thermometer-icon")],1),s("span",{staticClass:"text"},[t._v("Sensors")])])],1),s("li",[s("router-link",{attrs:{to:"/account"}},[s("span",{staticClass:"icon"},[s("user-icon")],1),s("span",{staticClass:"text"},[t._v("Account")])])],1),s("li",[s("router-link",{attrs:{to:"/logout"}},[s("span",{staticClass:"icon"},[s("log-out-icon")],1),s("span",{staticClass:"text"},[t._v("Logout")])])],1)])]),s("div",{attrs:{id:"main"}},[s("router-view")],1)])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"menu-brand"}},[s("h2",{staticClass:"centered"},[t._v("Wine Sense")])])}],o=s("0a35"),i={name:"App",components:{MenuIcon:o["e"],GridIcon:o["c"],ThermometerIcon:o["f"],UserIcon:o["h"],LogOutIcon:o["d"]},data(){return{showMenu:!1}}},c=i,l=(s("cf25"),s("2877")),u=Object(l["a"])(c,n,r,!1,null,null,null),d=u.exports,h=s("8c4f"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("TopBar",{attrs:{buttons:t.buttons,title:"Dashboard"}}),s("div",{attrs:{id:"content"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12 col-lg-8"},[s("div",{staticClass:"card has-chart"},[s("chartist",{attrs:{ratio:"ct-major-second",type:"Line",data:t.chartData,options:t.chartOptions}})],1)]),t._m(0)])])],1)},f=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-xs-12 col-lg-4"},[s("div",{staticClass:"card"},[t._v("This is some content")])])}],b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"row",attrs:{id:"topbar"}},[s("div",{staticClass:"col-xs nogrow burger"},[s("chevron-right-icon",{on:{click:t.showMenu}})],1),s("div",{staticClass:"col-xs content-left"},[s("h3",[t._v(t._s(t.title))])]),s("div",{staticClass:"col-xs content-right"},t._l(t.buttons,(function(e){return s("button",{staticClass:"button",attrs:{disabled:e.disabled},on:{click:e.method}},[t._v(t._s(e.name))])})),0)])},v=[],m={name:"TopBar",components:{MenuIcon:o["e"],ChevronRightIcon:o["b"]},props:["buttons","title"],methods:{showMenu(){this.$parent.$parent.showMenu=!0}}},g=m,_=(s("5953"),Object(l["a"])(g,b,v,!1,null,"7a8ff8d5",null)),w=_.exports,C={components:{TopBar:w},name:"Dashboard",data(){return{buttons:[],chartData:{labels:["A","B","C"],series:[[1,3,2],[4,6,5]]},chartOptions:{lineSmooth:!1}}}},x=C,y=Object(l["a"])(x,p,f,!1,null,null,null),O=y.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("TopBar",{attrs:{buttons:t.buttons,title:"Sensors"}}),s("div",{attrs:{id:"content"}},[t.errorMessage?s("div",{staticClass:"message is-danger"},[s("h1",[t._v("No Bluetooth Support")]),s("p",[t._v("Your current web browser does not support bluetooth. Please use a Chromium-based browser (Google Chrome, Brave, Chromium) or Opera to add sensors")])]):t._e(),t.experimentalMessage?s("div",{staticClass:"message is-warning"},[s("h1",[t._v("Experimental Support for Chromium on Linux")]),s("p",[t._v('Your browser has experimental support for detecting bluetooth devices. To enable it, open a new tab with this link and change the value "Default" to "Enabled" and click "Reload" when prompted.')]),s("a",{attrs:{href:"chrome://flags/#enable-experimental-web-platform-features"}},[t._v("chrome://flags/#enable-experimental-web-platform-features")])]):t._e(),t.btData.networks.length>0?s("div",{staticClass:"message"},[s("h2",[t._v("Add Sensor")]),s("p",[t._v("ID: "+t._s(t.btData.identifier))]),s("ul",{staticClass:"nets"},t._l(t.btData.networks,(function(e){return s("li",[s("div",{staticClass:"row middle-xs"},[s("div",{staticClass:"col-xs nogrow"},[s("WiFiIcon",{attrs:{strength:e.strength}})],1),s("div",{staticClass:"col-xs"},[s("span",[t._v(t._s(e.ssid))])]),0===e.security?s("div",{staticClass:"col-xs nogrow"},[s("alert-circle-icon")],1):t._e(),t._m(0,!0)])])})),0)]):t._e(),s("div",{staticClass:"row"},[0==t.sensors.length?s("div",{staticClass:"col-xs-12"},[s("h3",[t._v("You don't have any sensors, add one!")])]):t._e()])])],1)},D=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-xs nogrow"},[s("a",{staticClass:"button sm"},[t._v("Connect")])])}],M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("i",{staticClass:"icon__signal-strength",class:t.classObject},[s("span",{staticClass:"bar-1"}),s("span",{staticClass:"bar-2"}),s("span",{staticClass:"bar-3"}),s("span",{staticClass:"bar-4"})])},j=[],k={name:"WiFiIcon",props:["strength"],computed:{classObject:function(){return{"signal-0":0===this.strength,"signal-1":1===this.strength,"signal-2":2===this.strength,"signal-3":3===this.strength,"signal-4":4===this.strength}}}},E=k,I=(s("7e37"),Object(l["a"])(E,M,j,!1,null,null,null)),T=I.exports;const $="45ce3e18-db8e-40e3-883d-914a682ac2bf",A="cc53dab2-a3cc-43f1-bf68-809960776f94",B="c3187642-322f-4c8b-8845-d6720def4a5c",P="8bc76349-0cb6-4e1a-bba5-90fa7e65c6ad";var L={components:{TopBar:w,WiFiIcon:T,UnlockIcon:o["g"],AlertCircleIcon:o["a"]},name:"Sensors",data(){const t=!!this.bluetooth;return{buttons:[{name:"Add Sensor",method:this.sensorSearch,disabled:!t}],navigator:window.navigator,experimentalMessage:!1,errorMessage:!1,sensors:[],btData:{networks:[],descriptor:null,identifier:""}}},created(){this.bluetooth||(this.navigator.platform.includes("Linux")&&this.navigator.userAgentData&&this.navigator.userAgentData.brands.forEach(t=>{"Chromium"===t.brand&&(this.experimentalMessage=!0)}),0==this.experimentalMessage&&(this.errorMessage=!0))},methods:{async sensorSearch(){console.log("Add Sensor");const t=await this.bluetooth.requestDevice({filters:[{name:"Wine Sense"}],optionalServices:[$]}),e=await t.gatt.connect(),s=await e.getPrimaryService($);let a=await s.getCharacteristic(A);await a.startNotifications(),a.addEventListener("characteristicvaluechanged",t=>{console.log(t.target.value)});const n=await a.getDescriptor(B);let r=await n.readValue();const o=new TextDecoder("utf-8"),i=o.decode(r).split("|").map(t=>({strength:t.substr(0,1),security:t.substr(1,1),ssid:t.substr(2)}));this.btData.descriptor=n,this.btData.networks=i,a=await s.getCharacteristic(P),r=await a.readValue(),this.btData.identifier=o.decode(r)}}},W=L,F=(s("c9f3"),Object(l["a"])(W,S,D,!1,null,"7acaa7bb",null)),Y=F.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("TopBar",{attrs:{buttons:t.buttons,title:"Account"}}),t._m(0)],1)},J=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"content"}},[s("h2",[t._v("Account!")])])}],N={components:{TopBar:w},name:"Account",data(){return{buttons:[]}}},R=N,U=Object(l["a"])(R,G,J,!1,null,"193f9899",null),V=U.exports;a["a"].use(h["a"]),a["a"].use(s("84b5")),a["a"].prototype.bluetooth=window.navigator.bluetooth;const q=[{path:"/",component:O},{path:"/sensors",component:Y},{path:"/account",component:V},{path:"/logout",component:O}],z=new h["a"]({routes:q});new a["a"]({router:z,render:t=>t(d)}).$mount("#app")},5953:function(t,e,s){"use strict";s("84a2")},"7e37":function(t,e,s){"use strict";s("46ac")},"84a2":function(t,e,s){},abe4:function(t,e,s){},c9f3:function(t,e,s){"use strict";s("abe4")},cf25:function(t,e,s){"use strict";s("fea6")},fea6:function(t,e,s){}});
//# sourceMappingURL=app.8f403af7.js.map